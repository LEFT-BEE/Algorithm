안녕하세요 이번에 살펴볼 알고리즘은 후입선출/선입후출의 대표적 자료구조인 Stack입니다. 

## Stack

![image](https://user-images.githubusercontent.com/65720894/136375735-3e80a841-68e6-418a-bec3-504bca378eb5.png)


스택이란 기본원칙이 후입선출입니다 즉 "나중에 들어온 것이 먼저 들어오는 방식"이라고 할 수 있습니다.

알기 쉽게 예시를 들자면 박스에 물건을 넣는다고 생각해보겠습니다. 먼저 1이라는 짐을 넣고, 다음으로 2, 그 다음으로 3의 순서대로 박스에 물건을 넣었습니다. 이제 이 박스에 있는 짐을 
다시 꺼내려 한다면 가장위에 있던 물건부터 뺄 것입니다.

즉, 먼저들어온 것은 가장 아래에 있고, 가장 아래에 있는 만큼 가장 나중에 빠져나오게 되는 것입니다.

이러한 구조는 보통 '뒤로가기; , '실행취소' , 그리고 2학년때 배울 컴퓨터 구조에서 'stack memory'가 대표적입니다

---

## 주식가격

프로그래머스 주식가격문제 https://programmers.co.kr/learn/courses/30/lessons/42584


### 문제설명

```
초 단위로 기록된 주식가격이 담긴 배열 prices가 매개변수로 주어질 때, 
가격이 떨어지지 않은 기간은 몇 초인지를 return 하도록 solution 함수를 완성하세요.

제한사항
- prices의 각 가격은 1 이상 10,000 이하인 자연수입니다.
- prices의 길이는 2 이상 100,000 이하입니다.

입출력 예

prices = [1,2,3,2,3]
return = [4,3,1,1,0]
```

문제는 각 시간당 주식가격이 prices로 주어지고 주어진 주식가격이 얼마나 오르는지를 return하는 것을 묻고 있습니다.

문제를 푸는데 다양한 방법이 있겠지만. stack을 이용해 풀어봅시다.

```
answer = [0]*n
stack = []
stack.append(0)
```
stack에는 prices를 돌면서 시간을 저장할 것입니다. 그리고 최종 answer에 가격이 얼마나 유지되었는지를 넣어줄 것입니다.

예를들어 [1,2,3,2,3]이라는 예제에서 해당 시간대인 1부터 시작해 모든 prcies값을 stack안에 있는 모든 시간대의 price값과 비교할 것입니다.

```
1 -> 현재 시간이 가르키고 있는 주식가격 
2 -> 스택의 시간이 가르키고 있는 주식가격
```

을 비교해줍니다.


만약 1 > 2 이라면 해당 스택값은 유지가 될것이고 2 < 1 라면 현재 시간에 주식가격 유지가 될 수 없으므로    
정답레이블인 answer[time]  = cur_time - stack_time 와 같이 현재 시간에서 스택에 저장된 시간을 뺴주면 유지기간이 될 것입니다.  
또한 해당 시간대의 주식유지기간을 알았으므로 stack.pop()을 통해 stack에서 빼주면 될 것입니다.   

이때 만약 stack_time <= cur_time이라면 stack에 존재하는 모든 값은 유지가 될 수 있는 값이라는 것이기 때문에 해당 시간대의 탐색을 그만 둘 것입니다.   
마지막으로 stack에 현재 시간대를 넣어주면 최종 answer에서는 마지막까지 주식가격이 유지가 될 수 있는 시간대만 남을 것입니다.

따라서 stack안에 있는 모든 값을 answer[stack_time] = 총시간 - stack_time -1을 통해 유지기간을 구해주면 됩니다.

```
def solution(prices):

    n = len(prices) #총시간

    answer = [0]*n
    stack  = []
    stack.append(0)

    for time in range(1, n): #모든 시간대를 돌면서 현재시간의 주식가격과 스택안의 주식가격을 비교한다
        cur_price = prices[time] #해당 시간대의 주식가격

        while stack: #스택 탐색
            top = stack[-1] 
            
            if prices[top] > cur_price: #만약 현재시간의 주식가격이 더크다면 스택의 시간대의 유지기간은 time -top으로 계산
                answer[top] = time - top
                stack.pop() #답이 결정됬으므로 삭제해준다.
            else:
                break #만약 가격이 같거나 작다면 나머지 스택값들은 볼 필요 없음 

        stack.append(time) 

    while stack:
        top = stack.pop()
        answer[top] = n-top-1 #최종적으로 스택안에 남은 값들을 answer에 저장

    return answer

```

읽어주셔서 감사합니다.




